<!DOCTYPE html>
<html>
    <head>
        <title>ATLA: Dashboard</title>
        <link rel="stylesheet" href="styles/bootstrap.min.css">
        <link rel="stylesheet" href="styles/tabulator_bootstrap5.min.css">
        <link rel="stylesheet" href="styles/styles.css">
    </head>
    <body>
        <div class="flex-container">
            <div class="icons-container bg-light rounded">
                <div class="dropdown">
                    <button onclick="selectSeason()" class="dropbtn">Season</button>
                    <div id="selectSeason" class="dropdown-content">
                    <a onclick="updateSelectedSeason('any')">All Seasons</a>
                      <a onclick="updateSelectedSeason('1')">Book 1: Water</a>
                      <a onclick="updateSelectedSeason('2')">Book 2: Earth</a>
                      <a onclick="updateSelectedSeason('3')">Book 3: Fire</a>
                    </div>
                  </div>
                <div class="line"></div>
                <img src="/assets/icons/Aang.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Aang')">
                <img src="/assets/icons/Katara.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Katara')">
                <img src="/assets/icons/Sokka.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Sokka')">
                <img src="/assets/icons/Toph.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Toph')">
                <img src="/assets/icons/Zuko.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Zuko')">
                <img src="/assets/icons/Azula.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Azula')">
                <img src="/assets/icons/Iroh.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Iroh')">
                <img src="/assets/icons/Ozai.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Ozai')">
                <img src="/assets/icons/Mai.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Mai')">
                <img src="/assets/icons/Ty_Lee.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Ty Lee')">
                <img src="/assets/icons/Suki.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Suki')">
                <img src="/assets/icons/Jet.jpg" class="icon charSelect" onclick="updateSelectedCharacter('Jet')">
                <div class="dropdown">
                    <button onclick="selectOtherCharacter()" class="dropbtn">Other</button>
                    <div id="selectOtherCharacter" class="dropdown-content">
                      <a onclick="updateSelectedCharacter('Hakoda')">Hakoda</a>
                      <a onclick="updateSelectedCharacter('Zhao')">Zhao</a>
                      <a onclick="updateSelectedCharacter('Roku')">Roku</a>
                      <a onclick="updateSelectedCharacter('Pakku')">Pakku</a>
                      <a onclick="updateSelectedCharacter('Bumi')">Bumi</a>
                      <a onclick="updateSelectedCharacter('Hama')">Hama</a>
                      <a onclick="updateSelectedCharacter('Long Feng')">Long Feng</a>
                      <a onclick="updateSelectedCharacter('Bato')">Bato</a>
                      <a onclick="updateSelectedCharacter('Yue')">Yue</a>
                      <a onclick="updateSelectedCharacter('Pathik')">Guru Pathik</a>
                      <a onclick="updateSelectedCharacter('Haru')">Haru</a>
                      <a onclick="updateSelectedCharacter('Chong')">Chong</a>
                      <a onclick="updateSelectedCharacter('Sozin')">Sozin</a>
                    </div>
                  </div>
            </div>

            <div class="main-content">
                <div class="data-info bg-light rounded">
                    <img src="assets\Avatar_Logo.png">
                    <p>Explore your favorite moments from the "Avatar: The Last Airbender" Nickelodeon TV series.</p>
                    <b>Selected Season: </b><span id="currentSeason">All Seasons</span>
                    <br/>
                    <b>Selected Character: </b><a href="https://avatar.fandom.com/wiki/Category:Characters" id="currentCharacter">Any</a>
                </div>

                <div class="flex-container">

            <div class="flex-container bg-light rounded" style="height: fit-content">
                <svg id="pieChart"></svg>
            </div>

                    <div class="multi-vis-wrapper flex-container bg-light rounded">
                        <!--div class="mapHeader">
                            <div class="visTitle">Most Frequent Words</div>
                            <div class="info-icon-container" onclick="infoIconClicked()">
                                <img src="styles/info-logo.png" class="map-info-tool">
                                <img src="styles/info-logo-blue.png" class="map-info-tool-blue">
                            </div>
                        </div-->
                        <span class="chart-title">What were the characters saying?</span>
                        <div class="cloudInnerContainer">
                            <div class="table-cloud-wrapper">
                            <!--div style="align-self: center">
                                <span class="characterTable">Character selected: </span>
                                <span class="characterTableSelected"></span>
                            </div-->
                            <div class="tableInnerContainer">
                                <div id="episode_table"></div>
                            </div>
                            <div id="wordCloud"></div>
                            </div>
                            <div id="phrase" style="padding-top:20px;"></div>
                        </div>
                    </div>

                    <div class="chordDiagramContainer flex-container bg-light rounded" style="flex-direction: column;">
                        <span class="chart-title">Who talked to who?</span>
                        <svg id="chord"></svg>
                    </div>

                    <div class="flex-container bg-light rounded barchart-container" style="height: fit-content; padding-bottom: 20px;">
                        <span class="chart-title">How many episodes did they appear in?</span>
                        <div id="scroll_barchart" style="height: 600px; overflow-y: auto;">
                            <svg id="top_characters_barchart"></svg>
                        </div>
                    </div>
                </div>

                <div id="tooltip"></div>
                <div id="info-tooltip"></div>
                <!-- Modal -->
                <div id="myModal" class="modal">
                    <!-- Modal content -->
                    <div class="modal-content">
                        <span id="btnCloseModal" class="close">&times;</span>
                        <div id="character_line_table"></div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="flex-container footerBar">
            <button onClick='clearFilters()' type='button' class="clearFiltersButton">Clear Filters</button>
            <div style="text-align-last: end">
                <div class="pageinfo-text">
                    <span class="name">By: Bryan Cora, Lina Kaval, Daniel Hackney, Sam Shaw | CS6024 Project 3 | <a href="https://github.com/corncob567/Avatar-TV-Time">GitHub</a></span>
                </div>
                <span class="visInfo">Data From: <a href="https://avatar.fandom.com">Avatar Fandom</a>
                    | Data Visualization performed using D3</span>
            </div>
        </footer>
        <!-- Libraries and Misc -->
        <script src="js/d3.v6.min.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/tabulator.min.js"></script>

        <!-- D3.cloud -->
        <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>

        <!-- JS files -->
        <script src="js/main.js"></script>
        <script src="js/barchart.js"></script>
        <script src="js/wordCloud.js"></script>
        <script src="js/piechart.js"></script>
        <script src="js/chord.js"></script>
        <script src="js/table.js"></script>
    </body>
</html>